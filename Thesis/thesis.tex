%%------------------------------------------------------------------------------
%% thesis.tex -- MAIN FILE
%%------------------------------------------------------------------------------


%-------------------------------------------------------------------------------
%	Document Configuration
%-------------------------------------------------------------------------------

\documentclass[letterpaper, oneside, 11pt]{thesis}
\graphicspath{Figures/}  % Location of the graphics files

\usepackage[square, numbers, comma, sort&compress]{natbib}  % Use the "Natbib" style for the references in the Bibliography

\hypersetup{urlcolor=blue, colorlinks=true}  % Colours hyperlinks in blue, but this can be distracting if there are many links.


%-------------------------------------------------------------------------------
%	Packages
%-------------------------------------------------------------------------------

\usepackage{amsmath, amsfonts, amsthm, amssymb, mathtools} % Math
\usepackage{proof}              % For inference rules
\usepackage{mathpartir}         % Automatic rule layout
\usepackage{syntax}             % BNF grammar
\usepackage{cleveref}           % Better references

\usepackage[obeyFinal]{todonotes}


%-------------------------------------------------------------------------------
%	Page Outline
%-------------------------------------------------------------------------------

\setstretch{1.3}  % It is better to have smaller font and larger line spacing than the other way round

% Define the page headers using the FancyHdr package and set up for one-sided printing
\fancyhead{}  % Clears all page headers and footers
\rhead{\thepage}  % Sets the right side header to show the page number
\lhead{}  % Clears the left side page header

\pagestyle{fancy}  % Finally, use the "fancy" page style to implement the FancyHdr headers


%-------------------------------------------------------------------------------
%	Macros
%-------------------------------------------------------------------------------

\newcommand\indexVar{k}
\newcommand\lab{lab}

\usepackage{macro/generic}
\usepackage[index=\indexVar,label=\lab]{macro/types}
\usepackage[index=\indexVar,label=\lab]{macro/terms}
\usepackage{macro/inference}
\usepackage{macro/typing}
\usepackage{macro/code}
\usepackage{macro/interpretation}


%-------------------------------------------------------------------------------
%	Title
%-------------------------------------------------------------------------------

\title{Refinements for Session Typed Concurrency}
\authors{\texorpdfstring{\href{cacay@cmu.edu}{Josh Acay}} {Josh Acay} }
\addresses{\groupname\\\deptname\\\univname}  % Do not change this here, instead these must be set in the "thesis.cls" file.
\date{\today}
\subject{}
\keywords{}


%-------------------------------------------------------------------------------
%	Document Body
%-------------------------------------------------------------------------------

\begin{document}
\frontmatter      % Begin Roman style (i, ii, iii, iv...) page numbering

\maketitle


%-------------------------------------------------------------------------------
%	The "Funny Quote Page"
%-------------------------------------------------------------------------------

\pagestyle{empty}  % No headers or footers for the following pages

\null\vfill
% Now comes the "Funny Quote", written in italics
\todo{Pick one of these.}
``\textit{The purely functional approach is like money: you throw it at things and they get better.}''

``\textit{Purely functional ideas are like money: you throw them at stuff and it gets better.}''

``\textit{Purely functional ideas are like money: you throw them at stuff to make it better.}''

\begin{flushright}
    The Dalai Lama \todo{Can I legally lie about attributions?}
\end{flushright}

\vfill\vfill\vfill\vfill\vfill\vfill\null{}
\clearpage  % Funny Quote page ended, start a new page


%-------------------------------------------------------------------------------
%	Abstract
%-------------------------------------------------------------------------------

\addtotoc{Abstract}  % Add the "Abstract" page entry to the Contents
\abstract{%
\addtocontents{toc}{\vspace{1em}}  % Add a gap in the Contents, for aesthetics

\input{frontmatter/abstract}
}

\clearpage  % Abstract ended, start a new page


\setstretch{1.3}  % Reset the line-spacing to 1.3 for body text (if it has changed)


%-------------------------------------------------------------------------------
%	Acknowledgements
%-------------------------------------------------------------------------------

\acknowledgements{%
\addtocontents{toc}{\vspace{1em}}  % Add a gap in the Contents, for aesthetics

First and foremost, I would like to thank my advisor Frank Pfenning for his continued support. This thesis would not be possible without his encouragement. In addition, discussions with Max Willsey, Hannah Gommerstadt, and Rokhini Prabhu has been of tremendous help. Finally, I am grateful to Noam Zeilberger, Rowan Davies, and Joshua Dunfield for offering their help whenever needed.
}

\clearpage  % End of the Acknowledgements


\pagestyle{fancy}  %The page style headers have been "empty" all this time, now use the "fancy" headers as defined before to bring them back


%-------------------------------------------------------------------------------
%	Table of Contents
%-------------------------------------------------------------------------------

\lhead{\emph{Contents}}  % Set the left side page header to "Contents"
\tableofcontents  % Write out the Table of Contents


%-------------------------------------------------------------------------------
%	List of Figures
%-------------------------------------------------------------------------------

\lhead{\emph{List of Figures}}  % Set the left side page header to "List if Figures"
\listoffigures  % Write out the List of Figures


%-------------------------------------------------------------------------------
%	List of Tables
%-------------------------------------------------------------------------------

% \lhead{\emph{List of Tables}}  % Set the left side page header to "List of Tables"
% \listoftables  % Write out the List of Tables

% \addtocontents{toc}{\vspace{2em}}  % Add a gap in the Contents, for aesthetics


%-------------------------------------------------------------------------------
%	Dedication
%-------------------------------------------------------------------------------

\setstretch{1.3}  % Return the line spacing back to 1.3

% \pagestyle{empty}  % Page style needs to be empty for this page
% \dedicatory{For/Dedicated to/To my\ldots}

% \addtocontents{toc}{\vspace{2em}}  % Add a gap in the Contents, for aesthetics


%-------------------------------------------------------------------------------
%	Todo List
%-------------------------------------------------------------------------------

\todototoc{}
\listoftodos{}


%-------------------------------------------------------------------------------
%	Chapters
%-------------------------------------------------------------------------------

\mainmatter{} % Begin normal, numeric (1,2,3...) page numbering

\pagestyle{fancy}  % Return the page headers back to the "fancy" style
\lhead{\fancyplain{}{\rightmark}} % Set the left side page header to the chapter name

\clearpage
\input{chapter/introduction}

\clearpage
\input{chapter/session-types}
\input{chapter/session-types/types}
\input{chapter/session-types/processes}
\input{chapter/session-types/recursive}
\input{chapter/session-types/configurations}
\input{chapter/session-types/operational-semantics}

\clearpage
\input{chapter/subtyping}
\input{chapter/subtyping/choice}
\input{chapter/subtyping/recursive}
\input{chapter/subtyping/structural}
\input{chapter/subtyping/metatheory}

\clearpage
\input{chapter/refinements}
\input{chapter/refinements/intersections}
\input{chapter/refinements/unions}
\input{chapter/refinements/subtyping}
%\input{chapter/refinements/subtyping-old}
\input{chapter/refinements/encoding-choice}
%\input{chapter/refinements/compiling-choice}
\input{chapter/refinements/safety}

\clearpage
\input{chapter/algorithmic}
\input{chapter/algorithmic/subtyping}
\input{chapter/algorithmic/bidirectional}
\input{chapter/algorithmic/properties}
%\input{chapter/algorithmic/power}
%\input{chapter/algorithmic/interpretation}
\input{chapter/algorithmic/equivalence}
\input{chapter/algorithmic/safety}

\clearpage
\input{chapter/conclusion}

\addtocontents{toc}{\vspace{2em}} % Add a gap in the Contents, for aesthetics


%-------------------------------------------------------------------------------
%	Appendices
%-------------------------------------------------------------------------------

\appendix % Cue to tell LaTeX that the following 'chapters' are Appendices

\clearpage
\input{appendix/bitstrings}

\addtocontents{toc}{\vspace{2em}}  % Add a gap in the Contents, for aesthetics


%-------------------------------------------------------------------------------
%	Bibliography
%-------------------------------------------------------------------------------

\backmatter{}

\label{Bibliography}
\lhead{\emph{Bibliography}}  % Change the left side page header to "Bibliography"
\bibliographystyle{unsrtnat} % Use the "unsrtnat" BibTeX style for formatting the Bibliography
\bibliography{bibliography,db}


%-------------------------------------------------------------------------------
%	The End
%-------------------------------------------------------------------------------

\end{document}

