
\section{Type Safety}
\label{refinements:semantics}

At this point, we would prove type safety for the extended system. However, applicability of subsumption at any point in the presence of intersections and unions complicates a full analysis. Instead, we will first introduce the better behaved algorithmic system and establish safety for that system. The equivalence of the algorithmic system to the declarative will then imply safety for the declarative system.\footnote{At the time of writing, we are still working on establishing type-safety for the algorithmic system.}

